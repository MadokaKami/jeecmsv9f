webpackJsonp([89],{"7Uqo":function(a,n,t){"use strict";function e(a){t("oxRT")}Object.defineProperty(n,"__esModule",{value:!0});var s=t("hRKE"),i=t.n(s),l=t("lcoF"),o=t("2sCs"),r=t.n(o),c=t("x1ym"),d={mixins:[l.a],data:function(){var a=(c.a.required("该项必填"),c.a.number()),n=c.a.double();return{params:{},rules:{minDrawAmount:[a],rewardMin:[n],rewardMax:[n],chargeRatio:[n]},map:[]}},methods:{add:function(){var a={key:"",value:""};this.map.push(a)},del:function(a){this.map.splice(a,1)},getDataInfo:function(){var a=this,n=this.$api;r.a.all([r.a.post(n.configContentChargeGet)]).then(r.a.spread(function(n){a.dataInfo=n.body,a.dataInfo.alipayPublicKey="",a.dataInfo.alipayPrivateKey="",a.dataInfo.alipayKey="",a.dataInfo.weixinSecret="",a.dataInfo.weixinPassword="",a.dataInfo.transferApiPassword="",a.dataInfo.payTransferPassword="",a.map=n.body.fixMap,a.$refs.form.resetFields(),a.loading=!1})).catch(function(n){a.loading=!1})},update:function(){for(var a in this.dataInfo.fixMap){var n="attr_reward_fix_"+this.dataInfo.fixMap[a].value;this.dataInfo[n]=this.dataInfo.fixMap[a].value,console.log(this.dataInfo)}for(var t in this.dataInfo)"object"==i()(this.dataInfo[t])&&delete this.dataInfo[t];this.updateDataInfo(this.$api.configContentChargeUpdate,this.dataInfo,"")},updateDataInfo:function(a,n,t){var e=this;this.$refs.form.validate(function(s){if(!s)return!1;e.loading=!0,r.a.post(a,n).then(function(a){if(e.loading=!1,"200"==a.code){if(e.successMessage("修改成功"),e.getDataInfo(e.id),""==t)return!1;setTimeout(function(){e.routerLink(t)},1e3)}}).catch(function(a){e.loading=!1})})}},created:function(){this.getDataInfo(this.id)}},f=function(){var a=this,n=a.$createElement,t=a._self._c||n;return t("section",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"cms-body"},[t("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:a.dataInfo,rules:a.rules,"label-width":"162px"}},[t("el-form-item",{staticClass:"flex-50",attrs:{label:"微信公众号APPID",prop:"weixinAppId"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.weixinAppId,callback:function(n){a.$set(a.dataInfo,"weixinAppId",n)},expression:"dataInfo.weixinAppId"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"微信公众号Secret",prop:"weixinSecret"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:a.dataInfo.weixinSecret,callback:function(n){a.$set(a.dataInfo,"weixinSecret",n)},expression:"dataInfo.weixinSecret"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"微信支付商户号",prop:"weixinAccount"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.weixinAccount,callback:function(n){a.$set(a.dataInfo,"weixinAccount",n)},expression:"dataInfo.weixinAccount"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"微信支付商户密钥",prop:"weixinPassword"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:a.dataInfo.weixinPassword,callback:function(n){a.$set(a.dataInfo,"weixinPassword",n)},expression:"dataInfo.weixinPassword"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"微信企业转账API密钥",prop:"transferApiPassword"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:a.dataInfo.transferApiPassword,callback:function(n){a.$set(a.dataInfo,"transferApiPassword",n)},expression:"dataInfo.transferApiPassword"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"转账登陆密码",prop:"payTransferPassword"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:a.dataInfo.payTransferPassword,callback:function(n){a.$set(a.dataInfo,"payTransferPassword",n)},expression:"dataInfo.payTransferPassword"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"打赏默认配置",prop:"rewardPattern"}},[t("el-radio",{attrs:{label:!1},model:{value:a.dataInfo.rewardPattern,callback:function(n){a.$set(a.dataInfo,"rewardPattern",n)},expression:"dataInfo.rewardPattern"}},[a._v("随机")]),a._v(" "),t("el-radio",{attrs:{label:!0},model:{value:a.dataInfo.rewardPattern,callback:function(n){a.$set(a.dataInfo,"rewardPattern",n)},expression:"dataInfo.rewardPattern"}},[a._v("固定")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"固定",prop:"fixed"}},[t("cms-button",{attrs:{type:"edit"},nativeOn:{click:function(n){a.add(n)}}}),t("br")],1),a._v(" "),a._l(a.dataInfo.fixMap,function(n,e){return t("span",{key:e},[t("el-form-item",{staticClass:"flex-50"},[t("el-input",{staticClass:"cms-width cms-input",attrs:{type:"number"},model:{value:n.value,callback:function(t){a.$set(n,"value",t)},expression:"item.value"}}),a._v(" "),t("cms-button",{attrs:{type:"delete"},nativeOn:{click:function(n){a.del(e)}}})],1)],1)}),a._v(" "),t("br"),a._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"打赏随机最小数",prop:"rewardMin"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"number"},model:{value:a.dataInfo.rewardMin,callback:function(n){a.$set(a.dataInfo,"rewardMin",n)},expression:"dataInfo.rewardMin"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"打赏随机最大数",prop:"rewardMax"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"number"},model:{value:a.dataInfo.rewardMax,callback:function(n){a.$set(a.dataInfo,"rewardMax",n)},expression:"dataInfo.rewardMax"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"合作者ID",prop:"alipayPartnerId"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.alipayPartnerId,callback:function(n){a.$set(a.dataInfo,"alipayPartnerId",n)},expression:"dataInfo.alipayPartnerId"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"支付宝签约账户",prop:"alipayAccount"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.alipayAccount,callback:function(n){a.$set(a.dataInfo,"alipayAccount",n)},expression:"dataInfo.alipayAccount"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"支付宝安全校验码",prop:"alipayKey"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:a.dataInfo.alipayKey,callback:function(n){a.$set(a.dataInfo,"alipayKey",n)},expression:"dataInfo.alipayKey"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"支付宝应用ID",prop:"alipayAppId"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.alipayAppId,callback:function(n){a.$set(a.dataInfo,"alipayAppId",n)},expression:"dataInfo.alipayAppId"}})],1),a._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"支付宝公钥",prop:"alipayPublicKey"}},[t("el-input",{attrs:{type:"textarea",rows:2},model:{value:a.dataInfo.alipayPublicKey,callback:function(n){a.$set(a.dataInfo,"alipayPublicKey",n)},expression:"dataInfo.alipayPublicKey"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"支付宝私钥",prop:"alipayPrivateKey"}},[t("el-input",{attrs:{type:"textarea",rows:2},model:{value:a.dataInfo.alipayPrivateKey,callback:function(n){a.$set(a.dataInfo,"alipayPrivateKey",n)},expression:"dataInfo.alipayPrivateKey"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("工具生成的支付宝私钥复制需要注意把行串起，去除行之间空字符，不修改请留空")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"平台抽成比例",prop:"chargeRatio"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.chargeRatio,callback:function(n){a.$set(a.dataInfo,"chargeRatio",n)},expression:"dataInfo.chargeRatio"}}),a._v(" "),t("span",{staticClass:"gray"},[a._v("0.1表示10个点 平台抽取用户支付10%")])],1),a._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"提现最小额度",prop:"minDrawAmount"}},[t("el-input",{staticClass:"cms-width",model:{value:a.dataInfo.minDrawAmount,callback:function(n){a.$set(a.dataInfo,"minDrawAmount",n)},expression:"dataInfo.minDrawAmount"}})],1),a._v(" "),t("div",{staticClass:"form-footer"},[t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/globel/contentUpdate",expression:"'/globel/contentUpdate'"}],attrs:{type:"primary"},on:{click:function(n){a.update()}}},[a._v("修改")]),a._v(" "),t("el-button",{attrs:{type:"info"},on:{click:a.reset}},[a._v("重置")])],1)],2)],1)},p=[],u={render:f,staticRenderFns:p},m=u,v=t("8AGX"),I=e,w=v(d,m,!1,I,null,null);n.default=w.exports},oxRT:function(a,n,t){var e=t("zmt5");"string"==typeof e&&(e=[[a.i,e,""]]),e.locals&&(a.exports=e.locals);t("8bSs")("2de53ff8",e,!0)},zmt5:function(a,n,t){n=a.exports=t("l95E")(!1),n.push([a.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});
webpackJsonp([138],{QkIn:function(n,a,t){"use strict";function e(n){t("wgj7")}Object.defineProperty(a,"__esModule",{value:!0});var s=t("hRKE"),o=t.n(s),l=t("lcoF"),r=t("2sCs"),i=t.n(r),d=t("x1ym"),c={mixins:[l.a],data:function(){var n=this,a=d.a.required();d.a.number();return{params:{queryUsername:"",https:""},rules:{password:[function(){return{validator:function(a,t,e){n.$refs.form.validateField("confirmPassword"),e()},trigger:"blur"}}()],confirmPassword:[function(){return{validator:function(a,t,e){t!==n.dataInfo.password?e(new Error("前后密码不一致")):e()},trigger:"blur"}}()],valPassword:[a]},hoursList:["0点","1点","2点","3点","4点","5点","6点","7点","8点","9点","10点","11点","12点","13点","14点","15点","16点","17点","18点","19点","20点","21点","22点","23点"],weekLiset:["星期一","星期二","星期三","星期四","星期五","星期六","星期天"],hours:[],weeks:[]}},methods:{getHours:function(n){this.hours=n},getWeeks:function(n){this.weeks=n},getDataInfo:function(){var n=this,a=this.$api;i.a.all([i.a.post(a.configFirewallGet)]).then(i.a.spread(function(a){n.dataInfo=a.body,n.dataInfo.password="",n.dataInfo.confirmPassword="",n.$refs.form.resetFields(),n.loading=!1})).catch(function(a){n.loading=!1})},update:function(){var n={};for(var a in this.dataInfo)n[a]=this.dataInfo[a];n.hours=n.hours.join(","),n.weeks=n.weeks.join(",");for(var t in n)"object"==o()(n[t])&&delete n[t];console.log(this.dataInfo),console.log(n),this.updateDataInfo(this.$api.configFirewallUpdate,n,"")}},created:function(){this.getDataInfo(this.id)}},f=function(){var n=this,a=n.$createElement,t=n._self._c||a;return t("section",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"cms-body"},[t("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:n.dataInfo,rules:n.rules,"label-width":"162px"}},[t("el-form-item",{staticClass:"flex-50",attrs:{label:"是否开启",prop:"open"}},[t("el-radio",{attrs:{label:"true"},model:{value:n.dataInfo.open,callback:function(a){n.$set(n.dataInfo,"open",a)},expression:"dataInfo.open"}},[n._v("打开")]),n._v(" "),t("el-radio",{attrs:{label:"false"},model:{value:n.dataInfo.open,callback:function(a){n.$set(n.dataInfo,"open",a)},expression:"dataInfo.open"}},[n._v("关闭")])],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"防火墙登录密码",prop:"valPassword"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:n.dataInfo.valPassword,callback:function(a){n.$set(n.dataInfo,"valPassword",a)},expression:"dataInfo.valPassword"}})],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"防火墙密码",prop:"password"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:n.dataInfo.password,callback:function(a){n.$set(n.dataInfo,"password",a)},expression:"dataInfo.password"}}),n._v(" "),t("span",{staticClass:"gray"},[n._v("不修改请留空")])],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{staticClass:"cms-width",attrs:{type:"password"},model:{value:n.dataInfo.confirmPassword,callback:function(a){n.$set(n.dataInfo,"confirmPassword",a)},expression:"dataInfo.confirmPassword"}}),n._v(" "),t("span",{staticClass:"gray"},[n._v("不修改请留空")])],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"访问域名",prop:"domain"}},[t("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.domain,callback:function(a){n.$set(n.dataInfo,"domain",a)},expression:"dataInfo.domain"}})],1),n._v(" "),t("el-form-item",{staticClass:"flex-50",attrs:{label:"指定来访ip",prop:"ips"}},[t("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.ips,callback:function(a){n.$set(n.dataInfo,"ips",a)},expression:"dataInfo.ips"}})],1),n._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"允许登录后台的时间",prop:"hours"}},[t("el-checkbox-group",{on:{change:n.getHours},model:{value:n.dataInfo.hours,callback:function(a){n.$set(n.dataInfo,"hours",a)},expression:"dataInfo.hours"}},n._l(n.hoursList,function(a,e){return t("el-checkbox",{key:e,attrs:{label:e}},[n._v(n._s(a))])}))],1),n._v(" "),t("el-form-item",{staticClass:"flex-100",attrs:{label:"允许登录后台的星期",prop:"weeks"}},[t("el-checkbox-group",{on:{change:n.getWeeks},model:{value:n.dataInfo.weeks,callback:function(a){n.$set(n.dataInfo,"weeks",a)},expression:"dataInfo.weeks"}},n._l(n.weekLiset,function(a,e){return t("el-checkbox",{key:e,attrs:{label:e+1}},[n._v(n._s(a))])}))],1),n._v(" "),t("div",{staticClass:"form-footer"},[t("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/globel/firewallUpdate",expression:"'/globel/firewallUpdate'"}],attrs:{type:"primary"},on:{click:function(a){n.update()}}},[n._v("修改")]),n._v(" "),t("el-button",{attrs:{type:"info"},on:{click:n.reset}},[n._v("重置")])],1)],1)],1)},p=[],u={render:f,staticRenderFns:p},m=u,v=t("Z0/y"),w=e,h=v(c,m,!1,w,null,null);a.default=h.exports},hXvX:function(n,a,t){a=n.exports=t("l95E")(!1),a.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},wgj7:function(n,a,t){var e=t("hXvX");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);t("FIqI")("db5a5a90",e,!0,{})}});
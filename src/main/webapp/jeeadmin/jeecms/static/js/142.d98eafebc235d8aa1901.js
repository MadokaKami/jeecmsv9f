webpackJsonp([142],{JhQp:function(n,t,a){"use strict";function e(n){for(var t=[],a=0;a<n.length;a++){var e=h[n[a].name];e&&t.push({name:n[a].name,value:e.concat(n[a].value)})}return t}function s(n){a("qo/0")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("a3Yh"),r=a.n(i),o=a("2sCs"),l=a.n(o),h={"海门":[121.15,31.89],"鄂尔多斯":[109.781327,39.608266],"招远":[120.38,37.35],"舟山":[122.207216,29.985295],"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"赤峰":[118.87,42.28],"青岛":[120.33,36.07],"乳山":[121.52,36.89],"金昌":[102.188043,38.520089],"泉州":[118.58,24.93],"莱西":[120.53,36.86],"日照":[119.46,35.42],"胶南":[119.97,35.88],"南通":[121.05,32.08],"拉萨":[91.11,29.97],"云浮":[112.02,22.93],"梅州":[116.1,24.55],"文登":[122.05,37.2],"上海":[121.48,31.22],"攀枝花":[101.718637,26.582347],"威海":[122.1,37.5],"承德":[117.93,40.97],"厦门":[118.1,24.46],"汕尾":[115.375279,22.786211],"潮州":[116.63,23.68],"丹东":[124.37,40.13],"太仓":[121.1,31.45],"曲靖":[103.79,25.51],"烟台":[121.39,37.52],"福州":[119.3,26.08],"瓦房店":[121.979603,39.627114],"即墨":[120.45,36.38],"抚顺":[123.97,41.97],"玉溪":[102.52,24.35],"张家口":[114.87,40.82],"阳泉":[113.57,37.85],"莱州":[119.942327,37.177017],"湖州":[120.1,30.86],"汕头":[116.69,23.39],"昆山":[120.95,31.39],"宁波":[121.56,29.86],"湛江":[110.359377,21.270708],"揭阳":[116.35,23.55],"荣成":[122.41,37.16],"连云港":[119.16,34.59],"葫芦岛":[120.836932,40.711052],"常熟":[120.74,31.64],"东莞":[113.75,23.04],"河源":[114.68,23.73],"淮安":[119.15,33.5],"泰州":[119.9,32.49],"南宁":[108.33,22.84],"营口":[122.18,40.65],"惠州":[114.4,23.09],"江阴":[120.26,31.91],"蓬莱":[120.75,37.8],"韶关":[113.62,24.84],"嘉峪关":[98.289152,39.77313],"广州":[113.23,23.16],"延安":[109.47,36.6],"太原":[112.53,37.87],"清远":[113.01,23.7],"中山":[113.38,22.52],"昆明":[102.73,25.04],"寿光":[118.73,36.86],"盘锦":[122.070714,41.119997],"长治":[113.08,36.18],"深圳":[114.07,22.62],"珠海":[113.52,22.3],"宿迁":[118.3,33.96],"咸阳":[108.72,34.36],"铜川":[109.11,35.09],"平度":[119.97,36.77],"佛山":[113.11,23.05],"海口":[110.35,20.02],"江门":[113.06,22.61],"章丘":[117.53,36.72],"肇庆":[112.44,23.05],"大连":[121.62,38.92],"临汾":[111.5,36.08],"吴江":[120.63,31.16],"石嘴山":[106.39,39.04],"沈阳":[123.38,41.8],"苏州":[120.62,31.32],"茂名":[110.88,21.68],"嘉兴":[120.76,30.77],"长春":[125.35,43.88],"胶州":[120.03336,36.264622],"银川":[106.27,38.47],"张家港":[120.555821,31.875428],"三门峡":[111.19,34.76],"锦州":[121.15,41.13],"南昌":[115.89,28.68],"柳州":[109.4,24.33],"三亚":[109.511909,18.252847],"自贡":[104.778442,29.33903],"吉林":[126.57,43.87],"阳江":[111.95,21.85],"泸州":[105.39,28.91],"西宁":[101.74,36.56],"宜宾":[104.56,29.77],"呼和浩特":[111.65,40.82],"成都":[104.06,30.67],"大同":[113.3,40.12],"镇江":[119.44,32.2],"桂林":[110.28,25.29],"张家界":[110.479191,29.117096],"宜兴":[119.82,31.36],"北海":[109.12,21.49],"西安":[108.95,34.27],"金坛":[119.56,31.74],"东营":[118.49,37.46],"牡丹江":[129.58,44.6],"遵义":[106.9,27.7],"绍兴":[120.58,30.01],"扬州":[119.42,32.39],"常州":[119.95,31.79],"潍坊":[119.1,36.62],"重庆":[106.54,29.59],"台州":[121.420757,28.656386],"南京":[118.78,32.04],"滨州":[118.03,37.36],"贵阳":[106.71,26.57],"无锡":[120.29,31.59],"本溪":[123.73,41.3],"克拉玛依":[84.77,45.59],"渭南":[109.5,34.52],"马鞍山":[118.48,31.56],"宝鸡":[107.15,34.38],"焦作":[113.21,35.24],"句容":[119.16,31.95],"北京":[116.46,39.92],"徐州":[117.2,34.26],"衡水":[115.72,37.72],"包头":[110,40.58],"绵阳":[104.73,31.48],"乌鲁木齐":[87.68,43.77],"枣庄":[117.57,34.86],"杭州":[120.19,30.26],"淄博":[118.05,36.78],"鞍山":[122.85,41.12],"溧阳":[119.48,31.43],"库尔勒":[86.06,41.68],"安阳":[114.35,36.1],"开封":[114.35,34.79],"济南":[117,36.65],"德阳":[104.37,31.13],"温州":[120.65,28.01],"九江":[115.97,29.71],"邯郸":[114.47,36.6],"临安":[119.72,30.23],"兰州":[103.73,36.03],"沧州":[116.83,38.33],"临沂":[118.35,35.05],"南充":[106.110698,30.837793],"天津":[117.2,39.13],"富阳":[119.95,30.07],"泰安":[117.13,36.18],"诸暨":[120.23,29.71],"郑州":[113.65,34.76],"哈尔滨":[126.63,45.75],"聊城":[115.97,36.45],"芜湖":[118.38,31.33],"唐山":[118.02,39.63],"平顶山":[113.29,33.75],"邢台":[114.48,37.05],"德州":[116.29,37.45],"济宁":[116.59,35.38],"荆州":[112.239741,30.335165],"宜昌":[111.3,30.7],"义乌":[120.06,29.32],"丽水":[119.92,28.45],"洛阳":[112.44,34.7],"秦皇岛":[119.57,39.95],"株洲":[113.16,27.83],"石家庄":[114.48,38.03],"莱芜":[117.67,36.19],"常德":[111.69,29.05],"保定":[115.48,38.85],"湘潭":[112.91,27.87],"金华":[119.64,29.12],"岳阳":[113.09,29.37],"长沙":[113,28.21],"衢州":[118.88,28.97],"廊坊":[116.7,39.53],"菏泽":[115.480656,35.23375],"合肥":[117.27,31.86],"武汉":[114.31,30.52],"大庆":[125.03,46.58]},d={data:function(){var n;return{dateArr:"",params:{type:"source",target:"",flag:4,begin:"",statisDay:"",end:""},time:"",date:{year:"",month:"",day:""},totalMap:[],sum:0,ipsum:0,fksum:0,list:[],option:{tooltip:{},visualMap:{min:0,max:1500,left:"left",top:"bottom",text:["High","Low"],seriesIndex:[1],inRange:{color:["#50a3ba","#f1c40f","#e67e22","#d94e5d"]},calculable:!0},geo:{map:"china",roam:!0,label:{normal:{show:!0,textStyle:{color:"rgba(0,0,0,0.0)"}}},itemStyle:{normal:{borderColor:"#fff"},emphasis:{areaColor:null,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:20,borderWidth:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}},chartMap:{},chartPie:{},chartPieOptions:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[(n={name:"来访地区",type:"pie",radius:"55%"},r()(n,"radius",["50%","70%"]),r()(n,"data",[]),n)],color:["#56dea0","#ffbe60","#fa99cb","#46d7e8","#86c0e9"]}}},methods:{rangeTime:function(n){null!=n?(this.params.begin=n[0],this.params.end=n[1],this.params.flag=3,n[0]===n[1]?this.time=n[0]:this.time=n[0]+"-"+n[1]):(this.params.begin="",this.params.end="",this.params.flag=4,this.time=this.date.year+"-"+this.date.month+"-"+this.date.day),this.getDataInfo()},query:function(n){this.dateArr="",this.params.begin="",this.params.end="",4===n&&(this.time=this.date.year+"-"+this.date.month+"-"+this.date.day),1===n&&(this.time=this.date.year+"-"+this.date.month),2===n&&(this.time=this.date.year),this.getDataInfo()},getDataInfo:function(){var n=this;l.a.post(this.$api.flowAreaList,this.params).then(function(t){var a,s=[];for(var i in t.body.totalMap)s.push({name:i,value:t.body.totalMap[i]});var o=[];n.list=t.body.areaCountMap,n.ipsum=0,n.fksum=0;for(var l in n.list)n.ipsum+=n.list[l][1],n.fksum+=n.list[l][2];for(var h in t.body.areaCountMap)o.push({name:h,value:t.body.areaCountMap[h][0]});var d={};for(var c in o)d[o[c].name]=o[c].value;n.totalMap=d,n.sum=0;for(var m in d)n.sum+=d[m];for(var p={series:[{type:"scatter",coordinateSystem:"geo",data:e(s),symbolSize:1,symbol:"path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",symbolRotate:35,label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!1}},itemStyle:{normal:{color:"#fff"}}},{name:"pv",type:"map",geoIndex:0,data:o}]},v=[],u=0,f=0;f<s.length;f++){for(var _=f,g=f+1;g<s.length;g++)s[g]<s[_]&&(_=g);var y=s[_];s[_]=s[f],s[f]=y}console.log(s);for(var b in s)u<10&&v.push(s[b]),u+=1;var M={series:[(a={name:"来访地区",type:"pie",radius:"55%"},r()(a,"radius",["50%","70%"]),r()(a,"data",v),a)]};n.chartPie.setOption(M),n.chartMap.setOption(p)})}},created:function(){var n=new Date,t=n.getFullYear(),a=n.getMonth()+1,e=n.getDate();this.date.year=t,this.date.month=a,this.date.day=e,this.year=t,this.month=a,this.time=t+"-"+a+"-"+e,this.getDataInfo()},mounted:function(){this.chartMap=echarts.init(document.getElementById("charts")),this.chartPie=echarts.init(document.getElementById("chartPie")),this.chartPie.setOption(this.chartPieOptions),this.chartMap.setOption(this.option)}},c=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("section",{staticClass:"cms-body cms-chart-box"},[a("div",{staticClass:"cms-list-header",staticStyle:{"padding-left":"0"}},[a("h5",{staticClass:"data-header-title"},[n._v("地区("+n._s(n.time)+")")]),n._v(" "),a("div",{staticClass:"flex-date"},[a("label",{staticClass:"cms-label",staticStyle:{"margin-left":"0"}},[n._v("日期：")]),n._v(" "),a("el-radio-group",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"},on:{change:n.query},model:{value:n.params.flag,callback:function(t){n.$set(n.params,"flag",t)},expression:"params.flag"}},[a("el-radio-button",{attrs:{label:4}},[n._v("今日")]),n._v(" "),a("el-radio-button",{attrs:{label:1}},[n._v("本月")]),n._v(" "),a("el-radio-button",{attrs:{label:2}},[n._v("今年")])],1),n._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",editable:!1,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:n.rangeTime},model:{value:n.dateArr,callback:function(t){n.dateArr=t},expression:"dateArr"}})],1)]),n._v(" "),n._m(0),n._v(" "),a("table",{staticClass:"data-table"},[a("th",[n._v("地区")]),n._v(" "),a("th",[n._v("pv总数")]),n._v(" "),a("th",[n._v("ip总数")]),n._v(" "),a("th",[n._v("访客总数")]),n._v(" "),a("tr",[a("td",[n._v("合计")]),n._v(" "),a("td",[n._v(n._s(n.sum))]),n._v(" "),a("td",[n._v(n._s(n.ipsum))]),n._v(" "),a("td",[n._v(n._s(n.fksum))])]),n._v(" "),n._l(n.list,function(t,e,s){return a("tr",{key:e},[a("td",[n._v(n._s(e))]),n._v(" "),a("td",[n._v(n._s(t[0]))]),n._v(" "),a("td",[n._v(n._s(t[1]))]),n._v(" "),a("td",[n._v(n._s(t[2]))])])})],2)])},m=[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"flex"},[a("div",{staticStyle:{width:"50%",height:"600px"},attrs:{id:"charts"}}),n._v(" "),a("div",{staticClass:"chart-style",staticStyle:{width:"50%",heigth:"600px"},attrs:{id:"chartPie"}})])}],p={render:c,staticRenderFns:m},v=p,u=a("8AGX"),f=s,_=u(d,v,!1,f,null,null);t.default=_.exports},j1KR:function(n,t,a){t=n.exports=a("l95E")(!1),t.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},"qo/0":function(n,t,a){var e=a("j1KR");"string"==typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);a("8bSs")("04ca0898",e,!0)}});